{%extends 'home.html'%}
{%block body%}

<meta name="_token" content="{{ csrf_token }}">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

 <form  method="post"  name="My" action="{%url 'authenticate:passchange'%}" onsubmit="return validateForm();">
{%csrf_token%}
    <label class="headlabel">Reset Your Password</label>
       <div class="form-group">
      <input type="hidden" id="user_id" name="id" value="{{user_id}}" >
      <input type="hidden" id="res" name="res" value="{{res}}">
    </div>
     <div class="form-group w-50">
    <label for="pass">New Password</label>
    <input type="password" class="form-control" id="pass" name="pass" placeholder="Password" pattern="(?=.*[$@$#!%?&.])(?=.*\d)(?=.*[aA-zZ]).{8,}" required>
    <small style="color: red">Must Contain:-Characters Length(8),One Special Character($@$#!%?&.),At Least-One Number,Alphabet,</small>
  </div>
  <div class="form-group w-50">
    <label for="pass2">Retype Password</label>
    <input type="password" class="form-control" id="pass2" name="pass2" placeholder="Password"  required>
  </div>
<button type="submit" name="type" value="start" class="btn btn-primary">Change Password</button>


  </form>
{%if e%}
<script>
    alert('password reset');
    window.location.href="{%url 'authenticate:login'%}";
</script>
{%endif%}
<script>
    function validateForm() {
  var x = document.forms["My"]["pass"].value;
  var y = document.forms["My"]["pass2"].value;


  if (x!=y) {
   alert("Password Not Matched");
    return false;
  }
</script>

{%endblock%}